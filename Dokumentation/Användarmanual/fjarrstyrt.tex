% !TEX encoding = UTF-8 Unicode

%% --------------------------------------------------------------------------------------------------------------------------------------------
% FJÄRRSTYRT LÄGE - Användning vid styrning via PC 
%
%
% --mj 20120506
%% --------------------------------------------------------------------------------------------------------------------------------------------


\section{Fjärrstyrt läge}
I det fjärrstyrda läget så styrs roboten via bluetooth med en PC. Styrningen från PC innefattar bland annat körning framåt, bakåt, svängar, rotationer samt 
förändring av hastighet. Dessutom finns kommandon för att justera de individuella motorerna, samt kalibrering av linjesensorerna. 

\subsection{Start och stopp}
För att starta roboten i det fjärrstyrda läget så görs följande: (se figur \ref{fig:robot1} för nummerreferenser)

\begin{enumerate}
\item Slå på strömmen. (5)
\item Se till att roboten är ställd i fjärrstyrt läge. (1)
\item Tryck på reset för att sätta roboten i inaktivt läge. (3)
\end{enumerate}

Roboten kan stannas med reset-knappen på samma sätt som i det autonoma läget, eller med stopp-kommandot i PCn. 

\subsection{PC}
I fjärrstyrt läge kan användaren styra Komborobot med hjälp av en PC.
Information från Komborobots avståndssensorer, Komborobots hastighet samt
motorernas trimnivåer kommer kontinuerligt att visas på datorskärmen.
\subsubsection{input\_control}
input\_control hanterar användarens knapptryckningar och genererar instruktioner
som skickas till Komborobot.

Nedan följer vilka knapptryckningar som genererar de olika kommandona:

\begin{itemize}
\item w - Kör framåt med given hastighet.
\item s - Kör bakåt med given hastighet.
\item a - Rotera vänster med given hastighet.
\item d - Rotera höger med given hastighet.
\item q - Sväng vänster (mjuk kurva) med given hastighet.
\item e - Sväng höger (mjuk kurva) med given hastighet.
\item {[}Mellanslag] - Stopp.

\item {[}Pil upp] - Öka hastigheten till nästa kommando.
\item {[}Pil ner] - Minska hastigheten till nästa kommando.

\item {[}Pil höger] - Öka trimnivån på höger motor.
\item {[}Pil vänster] - Öka trimnivån på vänster motor.
\item o - Nollställ trimnivåerna.

\item u - Öka värdet på linjesensorkalibreringskonstanten.
\item i - Minska värdet på linjesensorkalibreringskonstanten.
\item c - Kalibrera linjesensorerna med linjesensorkalibreringskonstanten.
\end{itemize}

Då värdet på linjesensorkalibreringskonstanten ändras kommer bakgrunden på
input\_control att ändras för att approximativt spegla vid vilken färg vi går
från svart till vitt.

För att avsluta input\_control trycker man [escape], eller använder krysset på
fönstret.

\subsubsection{send\_receive}
I fjärrstyrt läge kommer send\_receive att visa hastighet på senast skickat
kommando, trimnivåerna på motorerna samt information från avståndssensorerna.

send\_receive avslutas genom att trycka [ctrl + c].

