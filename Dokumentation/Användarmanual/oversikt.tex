% !TEX encoding = UTF-8 Unicode

%% --------------------------------------------------------------------------------------------------------------------------------------------
% ÖVERSIKT - Beskrivning av robotens funktioner och gränssnitt mellan robot och användare
%
%
% --mj 20120506
%% --------------------------------------------------------------------------------------------------------------------------------------------


\section{Översikt}

Man kan interagera med Komborobot på två sätt. Dels genom att använda knapparna och reglagen på robotens ovansida, dels genom datorprogrammets gränssnitt. 

\subsection{Robotens utseende}

Figur \ref{fig:robot1} visar roboten, sett från ovan. Ovanpå roboten finns en skjutspak (1), två knappar (2 och 3),  samt en display (4).   Förutom detta så sitter även robotens bluetooth-enhet (5) på samma platta. 

\nyBild{robot1.jpg}{Robotens gränssnitt mot användaren}{robot1}{0.5} %Bild på robot ovanifrån

\begin{enumerate}
\item{\bf Lägesspaken} bestämmer vilket styrläge roboten befinner sig i, d.v.s. om den befinner sig i \emph{autonomt} eller \emph{fjärrstyrt} läge. Spakens riktning för de två lägena kan ses i figur \ref{fig:spak}.
\item {\bf Startknappen} används endast i autonomt läge. Som namnet antyder används den för att starta roboten från stillastående. 
\item{\bf Reset-knappen} används för att få roboten att återgå till ursprungsläget, vilket i både autonomt och fjärrstyrt läge innebär att roboten stannar. Efter reset så startas roboten åter med antingen (2) eller kommando från PC, beroende på styrläge.
\item{\bf Displayen} visar avståndet till väggarna på robotens högra och vänstra sida, angivet i cm. 
\item{\bf Bluetooth-enheten} används för att kommunicera med PC. Då roboten är ansluten till en PC så lyser BT-enhetens lysdiod grönt. I annat fall blinkar den rött. 
\end{enumerate}

\nyBild{spakar2.png}{Lägesspakens två lägen. (1) innebär autonomt och (2) fjärrstyrt läge.}{spak}{0.5} %Bild på robot ovanifrån

\subsection{Datorprogrammets gränssnitt}

Användatgränssnittet består av 2 olika program. input\_control som hanterar
hanterar användarens tangentbordstryckningar samt send\_receive som skickar
användarens intruktioner (genererade med input\_control) till Komborobot.

Todo: \emph{Bild på användargränssnitt}
send\_receive kommer på skärmen visa; ifall Komborobot kör i en labyrint, längs en linje eller ifall
den fjärrstyrs, information från de avståndssensorer som är monterade på
robotens sidor (4 st), vilken hastighet man skickade till roboten i samband med
förra kommandot, vilken trimnivå motorerna har, vilket specialkommando roboten
utför (endast i autonomt läge) samt ifall något felaktigt kommando har skickats
till styrenheten.

1: Avståndssensor, vänster fram på Komborobot.
2: Avståndssensor, vänster bak på Komborobot.
3: Avståndssensor, höger fram på Komborobot.
4: Avståndssensor, höger bak på Komborobot.
5: Labyrintläge, linjeföljarläge eller fjärrstyrt läge.
6: Senast skickad hastighet.
7: Trimnivå vänster motor.
8: Trimnivå höger motor.
9: Felaktigt kommando skickat till styrenheten.

input\_control visar en fyrkant på skärmen, färgen på denna fykant visar det
nuvarande värdet på linjesensorkalibreringskonstanten. Denna fyrkant
\emph{måste} vara markerad för att man ska kunna styra roboten via PCn.

10: input\_control.
