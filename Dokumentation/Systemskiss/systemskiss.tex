\documentclass[a4paper,12pt]{article}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{gensymb}
\input{LIPS.tex}


\newcommand{\LIPSartaltermin}{2012/VT}
\newcommand{\LIPSkursnamn}{TSEA27}

\newcommand{\LIPSprojekttitel}{Komborobot}

\newcommand{\LIPSprojektgrupp}{Grupp 17}
\newcommand{\LIPSgruppepost}{komborobot@googlegroups.com}
\newcommand{\LIPSgrupphemsida}{finns ej}
\newcommand{\LIPSdokumentansvarig}{Mattias Jansson}

\newcommand{\LIPSkund}{ISY, Linköpings universitet, 581\,83 Linköping}
\newcommand{\LIPSkundkontakt}{Tomas Svensson, 013-281368, tomass@isy.liu.se}
\newcommand{\LIPSkursansvarig}{Tomas Svensson, 013-281368, tomass@isy.liu.se}
\newcommand{\LIPShandledare}{}


\newcommand{\LIPSdokumenttyp}{Systemskiss}
\newcommand{\LIPSredaktor}{Simon Larsson}
\newcommand{\LIPSversion}{0.1}
\newcommand{\LIPSdatum}{\dagensdatum}

\newcommand{\LIPSgranskare}{}
\newcommand{\LIPSgranskatdatum}{}
\newcommand{\LIPSgodkannare}{}
\newcommand{\LIPSgodkantdatum}{}

\begin{document}

\LIPStitelsida

%% Argument till \LIPSgruppmedlem: namn, roll i gruppen, telefonnummer, epost
\begin{LIPSprojektidentitet}
  \LIPSgruppmedlem{Simon Larsson}{Projektledare (PL)}{070-7311646}{simla804@student.liu.se}
  \LIPSgruppmedlem{\LIPSdokumentansvarig}{Dokumentansvarig (DOK)}{073-6837074}{matja307@student.liu.se}
  \LIPSgruppmedlem{Gustav Svensk}{Reglersystem (REG)}{073-6208776}{gussv666@student.liu.se}
  \LIPSgruppmedlem{Johan Jönsson}{Mjukvara (KA)}{073-8305758}{johjo939@student.liu.se}
  \LIPSgruppmedlem{Tobias Andersson}{Hårdvara (HV)}{073-7201098}{toban963@student.liu.se}
  \LIPSgruppmedlem{Markus Falck}{Leveransansvarig (LV)}{076-3457552}{marlo265@student.liu.se}
  \LIPSgruppmedlem{Simon Wallin}{Testansvarig (GM)}{076-2300665}{simwa252@student.liu.se}
\end{LIPSprojektidentitet}

\tableofcontents{}
\newpage

%% Argument till \LIPSversionsinfo: versionsnummer, datum, ändringar, utfört av, granskat av
\addcontentsline{toc}{section}{Dokumenthistorik}
\begin{LIPSdokumenthistorik}
  \LIPSversionsinfo{0.1}{2012-02-10}{Första utkast.}{gussv666}{}
\end{LIPSdokumenthistorik}
\newpage

\section{Inledning}
Systemet består av en robot och tillhörande mjukvara. I detta dokument beskrivs hur roboten ska byggas,
observera att detta är en systemskiss, så olika förslag kan finnas. 
Roboten kommer att bestå av tre enheter som vardera innehåller en processor och som kan kommunicera med varandra. 
Enheterna kommer att monteras på en plattform med hjul och tillhörande motorer.
Mjukvaran är avsedd för att köras på en PC och används för att kommunicera med roboten.

\includegraphics[angle=270,scale=0.5]{Oversikt.pdf}

\section{Översikt av systemet}
På plattformen kommer tre enheter att monteras:
\begin{itemize}
        \item Kommunikationsenhet
        \item Sensorenhet
        \item Styrenhet
Varje enhet kommer styras av en egen AVR-processor.
\subsection{Kommunikation}
De tre enheterna måste kunna kommunicera med varandra, här förslås en I2C-buss och ett system med flera UART.
\subsubsection{I2C}
\end{itemize}
\begin{center}
\includegraphics[scale=0.7]{delsystem_i2c.png}
\end{center}
De olika enheterna kommer att kommunicera över en I2C-buss där kommunikationsenheten är master och de andra två enheterna är slave,
detta är för att den mesta kommunikationen kommer att ske genom kommunkationsenheten.
\subsubsection{UART}
\begin{center}
\includegraphics[scale=0.7]{delsystem_uart.png}
\end{center}
De olika enheterna kommer att kommunicera med de i processorerna inbyggda UART-portarna. 
Då dessa redan finns i processorerna blir de lättare att implementera. Det finns dock en nackdel, UART är en 
punkt till punkt kommunikation och då det är tre enheter som måste kommunicera med varandra måste minst en enhet
ha två UART-portar, men processorerna har bara en inbyggd UART-port. Detta går att lösa genom att omvandla en av de generella 
IO-portarna på processorerna till en UART med hjälp av mjukvara. 
Det räcker med att kommunikationsenhten har en extra UART om all kommunikation sker genom den enheten.

\subsection{Uppgraderbarhet}
Ett tydligt kommunikationsprotokoll mellan enheterna kommer att användas så att det är lätt att modifiera enheter.
Om en I2C-buss används blir det lättare at lägga till och byta ut enheter då I2C kan ses som en standardbuss.
Om istället UART används som kommunikation blir det svårare att lägga till nya enheter då flera UART-portar måste implementeras.
Att byta ut eller uppgradera en enhet blir dock lika enkelt med en UART som med en I2C.

PC-mjukavaran kommer att skicka och ta emot data från kommunikationsenheten via blåtand.
Mjukvaran kommer att använda ett tydligt protokoll vilket gör det möjligt att utveckla egen mjukvara eller uppgradera den befintliga mjukvaran.
\section{Kommunkationsenhet}
Kommunikationsenheten har som uppgift att styra kommunikation mellan de olika
modulerna och PCn. Detta innebär att kommunikationsenheten kommer fungera som en
master över bussen och de övriga modulerna kommer agera slave. För att
kommunicera med PCn kommer kommunikationsenheten behöva använda sig av en
blåtandsanslutning. Så fort en modul vill skicka någon form av information till
någon annan modul kommer denna att skickas via kommunikationsenheten.
\section{Sensorenhet}
\section{Styrsenhet}
\end{document} 

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
